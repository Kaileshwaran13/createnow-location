<!DOCTYPE html>
<html>
<head>
  <title>Mobile Only Location</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 20px;
    }
    #status {
      font-size: 1.2em;
      margin-bottom: 15px;
      color: #555;
    }
    #map {
      height: 400px;
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
      border-radius: 8px;
      display: none;
      border: 1px solid #ccc;
    }
    #locateBtn {
      padding: 10px 20px;
      font-size: 1em;
      border-radius: 6px;
      border: none;
      background-color: #4285F4;
      color: white;
      cursor: pointer;
    }
  </style>
</head>
<body>

<h1>Locate Yourself (Mobile Only)</h1>
<div id="status"></div>
<button id="locateBtn" style="display:none;">Find My Location</button>
<div id="map"></div>

<script>
  function isMobile() {
    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
  }

  let map, marker;

  function initMap() {
    map = new google.maps.Map(document.getElementById("map"), {
      zoom: 15,
      center: { lat: 0, lng: 0 },
    });

    marker = new google.maps.Marker({
      map: map,
      title: "You are here",
    });
  }

  function showPosition(position) {
    const lat = position.coords.latitude;
    const lng = position.coords.longitude;
    const userPos = { lat, lng };

    map.setCenter(userPos);
    marker.setPosition(userPos);

    document.getElementById("status").textContent = "Location found!";
    document.getElementById("map").style.display = "block";
  }

  function showError(error) {
    let msg = "";
    switch(error.code) {
      case error.PERMISSION_DENIED:
        msg = "Location permission denied.";
        break;
      case error.POSITION_UNAVAILABLE:
        msg = "Location information is unavailable.";
        break;
      case error.TIMEOUT:
        msg = "Location request timed out.";
        break;
      default:
        msg = "An unknown error occurred.";
    }
    document.getElementById("status").textContent = msg;
  }

  window.onload = () => {
    const statusDiv = document.getElementById("status");
    const locateBtn = document.getElementById("locateBtn");

    if (isMobile()) {
      statusDiv.textContent = "Click the button below to find your location";
      locateBtn.style.display = "inline-block";
      locateBtn.addEventListener("click", () => {
        if (!navigator.geolocation) {
          statusDiv.textContent = "Geolocation is not supported by your browser.";
          return;
        }
        statusDiv.textContent = "Finding your location...";
        navigator.geolocation.getCurrentPosition(showPosition, showError, {timeout:10000});
      });
    } else {
      statusDiv.textContent = "Sorry, this feature works only on mobile devices.";
    }
  };

  window.initMap = initMap;
</script>

<!-- Google Maps API -->
<script
  src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap"
  async
  defer
></script>

</body>
</html>
